import { CodeBlock } from "$/components/CodeBlock"

# useFetch

Runs a fetch request when the component is rendered, or when a value 
provided in the optional 
<a href="/docs/hooks/dependency-arrays">dependency array</a>
has changed. 

useFetch automatically takes care of setting up an abort signal and cancelling 
requests when necessary - if the hook is rerun or the component is unmounted. 
Alternatively, you can provide a signal to it just as you would a fetch request.

The first two arguments of useFetch are passed directly to fetch so as to 
make use of preexisting functionality and maintain familiarity.

### Example
<div className="not-prose">
  <CodeBlock 
    lang="jsx" 
    code={`\
import { useFetch } from "kaioken"

function ProductView({ id }) {
  const { loading, error, data } = useFetch(
    \`https://dummyjson.com/products/\${id}\`
  )
  
  if (loading) return <p>loading...</p>
  if (error) return <p>{error.message}</p>
  return (
    <div>
      <h1>{product.title}</h1>
      <img src={product.thumbnail} />
    </div>
  )
}
`} />
</div>

### Related
<ul>
  <li><a href="/docs/hooks/dependency-arrays">Dependency arrays</a></li>
</ul>