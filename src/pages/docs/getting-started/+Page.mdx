import { ExternalLink } from "$/components/atoms/ExternalLink"
import { HighlightOnLoad } from "$/components/HighlightOnLoad"
import { packageManager } from "./packageManagerStore"
import { PackageManagerSelector } from "./PackageManagerSelector"
import { CopyInnerText } from "$/components/CopyInnerText"
import BunCliBash from "./bash.cli.bun.md"
import NpmCliBash from "./bash.cli.npm.md"
import PnpmCliBash from "./bash.cli.pnpm.md"
import YarnCliBash from "./bash.cli.yarn.md"
import BunInstallBash from "./bash.manual.bun.md"
import NpmInstallBash from "./bash.manual.npm.md"
import PnpmInstallBash from "./bash.manual.pnpm.md"
import YarnInstallBash from "./bash.manual.yarn.md"

# Getting started

<HighlightOnLoad hash="#start-a-new-project">
  <div className="docs-section-header mb-4">
    <a id="start-a-new-project" href="#start-a-new-project">Start a new project</a>
  </div>
  <div>
    <div className="not-prose">
      <PackageManagerSelector />
      <CopyInnerText>
        {packageManager.value === "Bun" ? (
          <BunCliBash />
        ) : packageManager.value === "NPM" ? (
          <NpmCliBash />
        ) : packageManager.value === "Yarn" ? (
          <YarnCliBash />
        ) : (
          <PnpmCliBash />
        )}
      </CopyInnerText>
    </div>
  </div>
</HighlightOnLoad>

<HighlightOnLoad hash="#add-to-an-existing-project">
  <div className="docs-section-header">
    <a id="add-to-an-existing-project" href="#add-to-an-existing-project">Add to an existing project</a>
  </div>

  <h4>The following example demonstrates adding Kaioken to a Vite project.</h4>
  <br />

  <span>Add Kaioken and the Kaioken Vite plugin (for HMR and Devtools):</span>
  <CopyInnerText>
    {packageManager.value === "Bun" ? (
      <BunInstallBash />
    ) : packageManager.value === "NPM" ? (
      <NpmInstallBash />
    ) : packageManager.value === "Yarn" ? (
      <YarnInstallBash />
    ) : (
      <PnpmInstallBash />
    )}
  </CopyInnerText>

  <br />

  Update your vite.config.ts (or add it in the top level of your project) and add the HMR plugin:

  <CopyInnerText>
    ```ts
    import kaioken from "vite-plugin-kaioken"

    export default defineConfig({
      plugins: [kaioken()],
    })
    ```
  </CopyInnerText>

  <br />

  <span>Add the "jsx" entry in your tsconfig.json:</span>
  ```json
  {
    "compilerOptions": {
      ...
      "jsx": "preserve",
      ...
    }
  }
  ```

  <br />

  <span>Create a simple app:</span>
  <CopyInnerText>
    ```jsx
    export function App() {
      return <h1>Hello world!</h1>
    }
    ```
  </CopyInnerText>

  <br />

  <span>Mount your app to the DOM:</span>
  <CopyInnerText>
    ```ts
    import { mount } from "kaioken"
    import { App } from "./App"

    const root = document.getElementById("app")
    mount(App, root)
    ```
  </CopyInnerText>
</HighlightOnLoad>

<HighlightOnLoad hash="#getting-help">
  <div className="docs-section-header">
    <a id="getting-help" href="#getting-help">Getting help</a>
  </div>
  Reach out to us or get involved on <ExternalLink href="https://discord.gg/yspvgXegvs">Discord</ExternalLink>

</HighlightOnLoad>