import { ExternalLink } from "$/components/atoms/ExternalLink"
import { CodeBlock } from "$/components/CodeBlock"
import { HighlightOnLoad } from "$/components/HighlightOnLoad"
import { GitCloneCode } from "./GitCloneCode"
import { CliCode } from "./CliCode"
import {packageManager} from "./packageManagerStore"

# Getting started

<HighlightOnLoad hash="#start-a-new-project">
  <div className="docs-section-header mb-4">
    <a id="start-a-new-project" href="#start-a-new-project">Start a new project</a>
  </div>

  <div className="not-prose">
    <CliCode />
  </div>
</HighlightOnLoad>
<div className="py-4"></div>
<HighlightOnLoad hash="#add-to-an-existing-project">
  <div className="docs-section-header">
    <a id="add-to-an-existing-project" href="#add-to-an-existing-project">Add to an existing project</a>
  </div>

  <h4>The following example demonstrates adding Kaioken to a Vite project.</h4>
  <br />

  <span>Add Kaioken and the Kaioken Vite plugin (for HMR):</span>
  <div className="not-prose">
    <CodeBlock
      lang="bash"
      copy
      className="my-0 rounded-lg"
      code={`${packageManager.value.toLowerCase()} ${packageManager.value === "NPM" ? "install" : "add"} kaioken
${packageManager.value.toLowerCase()} ${packageManager.value === "NPM" ? "install" : "add"} vite-plugin-kaioken ${packageManager.value === "Yarn" ? "--dev" : packageManager.value === "PNPM" ? "-D" : packageManager.value === "Bun" ? "--dev" :  "--save-dev"}`}
    />
  </div>

  <br />

  <div className="not-prose">
    <span>Update your vite.config.ts (or add it in the top level of your project) and add the HMR plugin:</span>
    <CodeBlock
    lang="ts"
    copy
    code={`import { defineConfig } from "vite"
import kaioken from "vite-plugin-kaioken"

export default defineConfig({
  plugins: [kaioken()],
})`} className='my-0 rounded-lg' />
  </div>

  <br />

  <div className="not-prose">
    <span>Add the "jsx" entry in your tsconfig.json:</span>
    <CodeBlock
      lang="json"
      code={`{
  "compilerOptions": {
    ...
    "jsx": "preserve"
    ...
  }
}`}
      className="my-0 rounded-lg"
    />
  </div>

  <br />

  <div className="not-prose">
    <span>Create a simple app:</span>
    <CodeBlock 
      lang="jsx"
      copy
      code={`export function App() {
  return <h1>Hello world!</h1>
}`} className='my-0 rounded-lg' />

  </div>

  <br />

  <div className="not-prose">
    <span>Mount your app to the DOM:</span>
    <CodeBlock 
      lang="ts"
      copy
      code={`import { mount } from "kaioken"
import { App } from "./App"

const root = document.getElementById("app")
mount(App, root)
`} className='my-0 rounded-lg' />

  </div>
</HighlightOnLoad>
<div className="py-8"></div>
<HighlightOnLoad hash="#getting-help">
  <div className="docs-section-header">
    <a id="getting-help" href="#getting-help">Getting help</a>
  </div>
  Reach out to us or get involved on <ExternalLink href="https://discord.gg/yspvgXegvs">Discord</ExternalLink>

</HighlightOnLoad>